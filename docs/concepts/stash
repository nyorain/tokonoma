/// Uses stb to read the image at the given path.
/// For !hdr, will always return r8g8b8a8Unorm as image format, the caller must
/// know whether the image holds srgb data. For hdr, always returns
/// vk::Format::r32g32b32a32Sfloat format.
Image readImageStb(nytl::StringParam path, bool hdr = false);
Image readImageStb(File&& file, bool hdr = false);

/// Fully reads the image at the given path into memory and returns
/// the image. Returns an empty image on error.
/// The hdr parameter is just for stb fallback.
Image readImage(nytl::StringParam path, bool hdr = false);
Image readImage(File&& file, bool hdr = false);

/// For !hdr, will always return r8g8b8a8Unorm as image format, the caller must
/// know whether the image holds srgb data. For hdr, always returns
/// vk::Format::r32g32b32a32Sfloat format.
std::unique_ptr<ImageProvider> readStb(std::unique_ptr<Stream>, bool hdr);
